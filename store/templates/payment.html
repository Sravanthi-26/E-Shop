{% extends 'base.html' %}


{% block content %}
<div class="container">
    <div class="p-4 m-4">
        <div class="col-lg-5 mx-auto border rounded p-4">
            <center>
            <h3 class="alert alert-light">Shipping details </h3>
            <h6>name : {{name}}</h6>
            <h6>phone : {{phone}}</h6>
            <h6>address : {{address}}</h6>
            <h6>pincode : {{pincode}}</h6>
            <h6>orderid : {{order}}</h6>
            <h6>Price to pay : {{totalprice}}</h6><br>
            <button id="rzp-button1" class="btn btn-info col-lg-4">Pay</button>
        </center>
        <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
        <script>
          var options = {
            "key": "{{key}}", // Enter the Key ID generated from the Dashboard
            "amount": "{{amount}}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
            "currency": "INR",
            "name": "E-shop",
            "description": "Test Transaction",
            "order_id":'{{order}}', //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
            "callback_url": "{{callback_url}}",
            "redirect": true,
            
            "prefill": {
              "name": "{{name}}",
              "email": "{{email}}",
              "contact": "+91" + "{{phone}}"
            },
            "theme": {
              "color": "#2BA977"
            }
          };
          var rzp1 = new Razorpay(options);
          document.getElementById('rzp-button1').onclick = function (e) {
            rzp1.open();
            e.preventDefault();
          }
        </script>

        </div>
    </div>
</div>
{% endblock %}